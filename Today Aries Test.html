<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Random Sentence Generator</h1>
  <button id="generateButton">Generate Sentences</button>
  <ul id="result"></ul>
  <script>
    const sentences = [
      "Robe of smile eyes / dual sign roses / and lilies of light / one hand pointed to the sky / the other an infinite magician",
      "Reversed—breadcrumb conduit / your cloak converted red / blossoming snake bite foliage / and unintentional touch",
      "You lunar crescent head / embroidered palms / shimmering daughter of Eden / secret borrowed light",
      "Reversed—surrender the resonate tune / veil of forced feminine perspective / the pomegranates sacred / Persephone ate the underworld",
      "The grass is green",
      "The air is fresh",
      "The leaves are rustling",
      "Beyond Eden / a ripening field of stars / you / borne by a door / gathered in the cluster of words",
      "Reversed—crushed velvet pomegranate / lush water wheat / rich curves reflect you / an ant resisting the body",
      "Reversed—Shadow spotlight / crushes / flatters / you are indulged / The audience plays hide and seek.",
    ];

    const dependencies = {
      "Robe of smile eyes / dual sign roses / and lilies of light / one hand pointed to the sky / the other an infinite magician": "Reversed—breadcrumb conduit / your cloak converted red / blossoming snake bite foliage / and unintentional touch",
      "Reversed—breadcrumb conduit / your cloak converted red / blossoming snake bite foliage / and unintentional touch": "Robe of smile eyes / dual sign roses / and lilies of light / one hand pointed to the sky / the other an infinite magician",
      "You lunar crescent head / embroidered palms / shimmering daughter of Eden / secret borrowed light": "Reversed—surrender the resonate tune / veil of forced feminine perspective / the pomegranates sacred / Persephone ate the underworld",
      "Reversed—surrender the resonate tune / veil of forced feminine perspective / the pomegranates sacred / Persephone ate the underworld": "You lunar crescent head / embroidered palms / shimmering daughter of Eden / secret borrowed light",
      "Beyond Eden / a ripening field of stars / you / borne by a door / gathered in the cluster of words": "Reversed—crushed velvet pomegranate / lush water wheat / rich curves reflect you / an ant resisting the body",
      "Reversed—crushed velvet pomegranate / lush water wheat / rich curves reflect you / an ant resisting the body": "Beyond Eden / a ripening field of stars / you / borne by a door / gathered in the cluster of words",
      "Mother / Mars adorned / small river in her right hand / gold crown mountain range in her left / She is red robe fantasy": "Reversed—Shadow spotlight / crushes / flatters / you are indulged / The audience plays hide and seek.",
      "Reversed—Shadow spotlight / crushes / flatters / you are indulged / The audience plays hide and seek.": "Mother / Mars adorned / small river in her right hand / gold crown mountain range in her left / She is red robe fantasy",
    };

    let usedSentences = [];
    let currentIteration = 0;

    function generateSentences() {
      let iterationSentences = sentences.map(sentence => `${sentence}-${currentIteration}`);

      let candidates = iterationSentences.filter((sentence) => !usedSentences.includes(sentence));
      let selected = [];

      for (let i = 0; i < 3; i++) {
        let idx = Math.floor(Math.random() * candidates.length);
        let sentence = candidates[idx];
        let originalSentence = sentence.slice(0, -(`-${currentIteration}`.length));
        selected.push(originalSentence);
        candidates.splice(idx, 1);

        let dependency = dependencies[originalSentence];
        if (dependency) {
          let dependentSentence = `${dependency}-${currentIteration}`;
          candidates = candidates.filter((s) => s !== dependentSentence);
          usedSentences.push(dependentSentence);
        }
      }

      usedSentences = usedSentences.concat(selected.map(sentence => `${sentence}-${currentIteration}`));
      return selected;
    }

    document.querySelector("#generateButton").addEventListener("click", function () {
      let sentences = generateSentences();
      let result = document.querySelector("#result");
      result.innerHTML = "";
      sentences.forEach(function (sentence) {
        let li = document.createElement("li");
        li.textContent = sentence;
        result.appendChild(li);
      });

      currentIteration = (currentIteration + 1) % sentences.length;
      usedSentences = usedSentences.filter(sentence => sentence.endsWith(`-${currentIteration - 1}`));
    });
  </script>
</body>
</html>

</body>
</html>
